<script setup lang="ts">
import { onMounted, ref } from 'vue'
import LoginChart from '../components/admin/LoginChart.vue'
import ExpenseChart from '@/components/employee/expenseChart.vue'
import { toast } from 'vue3-toastify'
import axios from 'axios'
const expenseData2 = ref([])
const errorMessage = ref('')
const fetchData = async () => {
  try {
    const userCode = localStorage.getItem('userCode')
    const authToken = localStorage.getItem('authToken')
    const response = await axios.get(`http://localhost:5000/getExpenses`, {
      timeout: 10000,
      withCredentials: true,
      headers: {
        userCode: userCode,
        Authorization: authToken,
      },
    })
    expenseData2.value = response.data.data
  } catch (error) {
    if (axios.isAxiosError(error)) {
      console.log(error.response?.data)
      errorMessage.value = error.response?.data?.message || 'Something went wrong'
    } else {
      errorMessage.value = 'An unexpected error occurred'
    }
    toast(errorMessage.value, {
      type: 'error',
      autoClose: 2000,
    })
    console.error('Error fetching data :', errorMessage.value)
  }
}

const expenseData = [
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Mandhi',
    date: '2024-12-19T05:06:44.557Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '1',
    totalcost: '350',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Si',
    date: '2024-12-04T07:01:00.963Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: ' Biriyani',
    date: '2024-12-03T09:20:08.470Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Special Biriyani',
    date: '2024-12-04T06:50:51.319Z',
    storename: 'Arrow Food',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-12-03T09:20:08.470Z',
    storename: 'Arrow Food',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanjik',
    date: '2024-12-03T09:20:08.470Z',
    storename: 'Arrow Food',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Special Biriyani',
    date: '2024-12-03T09:31:36.368Z',
    storename: 'Arrow Food',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-12-13T07:28:49.831Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Special Biriyani',
    date: '2024-12-04T05:26:01.524Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-12-04T07:02:38.399Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: '7206e14a-bb1f-4d17-bcde-29a378455ce7',
    productname: 'Veg Fried Rice',
    date: '2024-11-11T08:07:39.030Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '300',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-12-06T09:34:50.612Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-11-29T05:46:14.438Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: '034128ec-62cd-47ef-bc8e-e1d66eedb9f5',
    productname: 'EGG roast',
    date: '2024-12-31T07:40:52.111Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '50',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Special Biriyani',
    date: '2024-12-03T09:16:42.890Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-12-04T06:53:52.496Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Special Biriyani',
    date: '2024-12-04T06:53:52.496Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-12-03T09:13:10.565Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Special Biriyani',
    date: '2024-12-04T07:02:38.399Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Special Biriyani',
    date: '2024-11-15T07:31:07.075Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: '7206e14a-bb1f-4d17-bcde-29a378455ce7',
    productname: 'Veg Fried Rice',
    date: '2024-11-08T09:37:33.970Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '300',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-11-15T07:31:07.075Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Special Biriyani',
    date: '2024-11-27T05:26:55.482Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-12-04T05:23:51.003Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Special Biriyani',
    date: '2024-12-13T07:28:49.831Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-12-03T09:31:36.368Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-12-03T09:15:08.119Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Special Biriyani',
    date: '2024-12-03T09:13:10.565Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-11-17T14:23:25.070Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-12-04T07:01:00.963Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Special Biriyani',
    date: '2024-12-03T09:39:19.240Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-12-19T05:06:44.557Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '300',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-12-03T09:35:38.615Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Special Biriyani',
    date: '2024-12-03T09:33:32.581Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: '8168468a-ef66-48cb-849e-f5e13206f2fb',
    productname: 'Chinese Noodles',
    date: '2024-11-08T09:37:33.970Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '1050',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Special Biriyani',
    date: '2024-11-27T05:14:57.772Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: '8168468a-ef66-48cb-849e-f5e13206f2fb',
    productname: 'Chinese Noodles',
    date: '2024-11-11T08:07:39.030Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '1050',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Special Biriyani',
    date: '2024-12-03T09:15:08.119Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: '7206e14a-bb1f-4d17-bcde-29a378455ce7',
    productname: 'Veg Fried Rice',
    date: '2024-11-15T07:13:07.149Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '300',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-12-04T05:26:01.524Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Special Biriyani',
    date: '2024-11-17T14:23:25.070Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-12-03T09:39:19.240Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-12-04T06:52:56.680Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Special Biriyani',
    date: '2024-12-06T09:34:50.612Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Special Biriyani',
    date: '2024-12-04T05:23:51.003Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-12-19T06:53:10.096Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '300',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-12-04T06:50:51.319Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Special Biriyani',
    date: '2024-11-29T05:46:14.438Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Special Biriyani',
    date: '2024-12-04T06:52:56.680Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-12-03T09:33:32.581Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-11-27T05:14:57.772Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Special Biriyani',
    date: '2024-12-03T09:35:38.615Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-12-03T09:26:39.770Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: 'f153f8ac-7919-42ac-930b-e2c8c64c711b',
    productname: 'Special Biriyani',
    date: '2024-12-03T09:26:39.770Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '2',
    totalcost: '700',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-11-27T05:26:55.482Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
  {
    productid: '8168468a-ef66-48cb-849e-f5e13206f2fb',
    productname: 'Chinese Noodles',
    date: '2024-11-15T07:13:07.149Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '1050',
  },
  {
    productid: 'cc6cb9b6-9e60-483d-8dec-f992ee02eda7',
    productname: 'Kanji',
    date: '2024-12-03T09:16:42.890Z',
    storename: 'Arrow Foods',
    storecode: 'STR10',
    totalsold: '3',
    totalcost: '450',
  },
]

const LoginData = [
  {
    userCode: 'USR004',
    lastLogin: '2024-11-28 10:26:38',
    fullName: 'Emily White',
  },
  {
    userCode: 'USR004',
    lastLogin: '2024-11-28 14:26:38',
    fullName: 'Emily White',
  },
  {
    userCode: 'USR004',
    lastLogin: '2024-11-28 16:26:38',
    fullName: 'Emily White',
  },
  {
    userCode: 'USR004',
    lastLogin: '2024-11-28 14:26:38',
    fullName: 'Emily White',
  },
  {
    userCode: 'USR004',
    lastLogin: '2024-11-18 16:26:38',
    fullName: 'Emily White',
  },
  {
    userCode: 'USR004',
    lastLogin: '2024-11-10 9:26:38',
    fullName: 'Emily White',
  },
  {
    userCode: 'USR004',
    lastLogin: '2024-11-10 9:20:38',
    fullName: 'Emily White',
  },
  {
    userCode: 'USR004',
    lastLogin: '2024-11-10 9:22:38',
    fullName: 'Emily White',
  },
  {
    userCode: 'USR004',
    lastLogin: '2024-11-10 9:19:38',
    fullName: 'Emily White',
  },
  {
    userCode: 'USR004',
    lastLogin: '2024-11-10 9:22:38',
    fullName: 'Emily White',
  },
  {
    userCode: 'USR004',
    lastLogin: '2024-11-10 9:22:38',
    fullName: 'Emily White',
  },
  {
    userCode: 'USR004',
    lastLogin: '2024-11-10 9:22:38',
    fullName: 'Emily White',
  },
  {
    userCode: 'USR004',
    lastLogin: '2024-11-10 9:22:38',
    fullName: 'Emily White',
  },
]

// ref<loginData[]>([])

onMounted(async () => {
  // fetchData()
})
</script>

<template>
  <div class="w-full">
    <LoginChart class="" :LoginData="LoginData" />
    <ExpenseChart class="mt-10" :expenseData="expenseData" />
  </div>
</template>
